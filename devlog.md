# Log

## 20220329
今天继续整理代码，本来想搞一个完全封装的东西，把myclass中MyObject的属性全部通过方法进行读写，但是有一个问题，在load的时候直接通过json反序列化而来，跟Myobject中的方法对应不上找不到，会报错。先不搞了，这样也能用。  
bug: 修改了一个bug，本来coco自带的boundingbox是删不掉的，后来发现物体添加boundingbox是可以被删除了，做了一个判断，原来boundingbox不能删除。  
暂时先不动了，这次改的还不错，要是论文中了，公布之前，再改一波。

## 20220328
bug: 今天发现一个bug（前几天添加了按住d键，可以删除选中笔画的功能，今天发现12045号草图删除笔画的时候一直跳到“dog” object），分析后发现是select控件自带按住首字母快速选中的功能。解决方法：（1）选择完objects后，点击一下界面的其他部分，取消focus状态；（2）换一个按键；（3）给select添加了一个onkeydown事件，判断按键值为68，也就是d，调用blur(),取消select的focus。

修改了一些bug，把获取cur_object_id改成了通过getCurObjectId()来获得，不允许在其他地方直接修改。

## 20220324
添加了一个是否显示参考图像的checkobx

## 20220316
取消选中的笔画时，鼠标状态变为橡皮擦图标，便于更好的看出来。

## 20220314
添加了4个控件和对应的功能，两个lable：（1）cur_num,显示当前物体的笔画数；（2）all_num, 显示全部物体，不包括useless的笔画数。两个checkbox：（1）cur_obj_only 只显示当前物体，或者全部显示；（2）是否显示useless对应的笔画

## 20220307
添加了按住D，点击选择的笔画可以删除选中笔画的功能

## 20220215
把config.py中一个数据总数的参数total_tasks删除了，这样直接从background.txt文件中直接获取就行了，不需要每次都配置一遍。

## 20201227
md5值在php接收端是按整形接收的，部分任务上传的时候会出现上传的MD5值改变的情况，导致保存不成功。将md5的接收方式改为了字符串型，就可以了。

## 20201224
添加了一个审核功能，分为审核和标注两种模式，在前后端传递参数review。审核模式下参数review为任务号，标注模式下review为-1。审核模式，保存后如果有修改，同时保证到result2和result3中，如果没有修改保存到result2中。同时修改了load，在审核模式下，自动把标注后的加载进来，如果是标注模式，就不加载。php后台load函数中，如果是审核模式，就优先加载result2中的；如果时标注模式，就加载result1中的。

## 20201124
添加了一个计算md5值的js引用包，可以计算上传字符串的md5值，改进了原来通过上传字符串长度验证的方式，这样能更好的保证上传的准确性。

## 20201017
修改了layout.js 中submit() 和 Index.php 中save()，保存时上传字符串长度，进行判断，防止上传过程中信息的丢失。
```
window.onload = function (){
    var userName=”xiaoming”;
    alert(userName);
}
```  
上述代码再整个页面加载完执行，而以下代码则不能正常执行，提示random()函数不存在
```
$(document).ready(function (){
    var userName=”xiaoming”;
    alert(userName);
});
```  

## 20201008
项目加载了第三批数据，并上传服务器
并将删除物体，修改了，每次删除后指向前一个。

## 20200813
界面做了一定的调整，对界面功能进一步进行了分类。
boundingbox可以添加新的框，还可以修改框的大小。
修改了一些画框过程中的bug

## 20200806
image又改回了canvas渲染，因为要在上面画boundingbox
添加了direnction和quality标注项

## 20200628
image显示不用canvas渲染了，不然每次刷新都都要渲染一次，或许能减少运算量
修改了一个bug，添加了是否删除笔画复选框后，没有初始化一些参数，导致鼠标移到笔画上没有反应

## 20200627
1.添加了一个笔画是否选中的复选框
2.添加了框选功能，可以更快的选中笔画







